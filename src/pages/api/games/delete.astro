---
import {deleteGameById} from "@lib/database";


let body = await Astro.request.json();
let gameId = body.gameId;

const {data, error} = gameId ? await deleteGameById(gameId) : { data: null, error: {
    message: "No game id provided"
  } }

if (error) {
  return new Response(JSON.stringify({
    status: 500,
    data: error
  }))
}

return new Response(JSON.stringify({
  status: 200,
  data
}))

---